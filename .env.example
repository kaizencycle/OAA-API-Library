# OAA API Library Environment Configuration
# Copy this file to .env.local and fill in your values

# ==============================================================================
# DATABASE (Required for Auth + Wallet)
# ==============================================================================
# PostgreSQL connection string (Render, Supabase, etc.)
DATABASE_URL=postgresql://user:password@host:5432/database?schema=public

# ==============================================================================
# AUTH CONFIGURATION (Required for authenticated endpoints)
# ==============================================================================
# JWT signing secret - MUST match between Next.js and FastAPI backends
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Or in Python: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET=your-jwt-secret-change-in-production

# JWT is used for:
# - Session tokens returned by /api/auth/login and /api/auth/register
# - Bearer token authentication on protected FastAPI endpoints
# - Subject binding for MIC minting (authenticated user = MIC owner)

# App URL for magic links
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ==============================================================================
# CORS Configuration
# ==============================================================================
# Default origins (localhost:3000,5173,8080 and mobius-browser-shell.vercel.app) are always included
# Vercel preview deployments matching mobius-browser-shell-*.vercel.app are automatically allowed
ORIGINS=https://your-custom-domain.com,https://another-domain.com

# ==============================================================================
# OAA Core Configuration
# ==============================================================================
OAA_HMAC_SECRET=your-hmac-secret-here
EVE_HMAC_SECRET=your-eve-secret-here

# ==============================================================================
# AI Provider API Keys
# ==============================================================================
# At least one of ANTHROPIC_API_KEY or OPENAI_API_KEY must be set
OPENAI_API_KEY=sk-your-openai-key-here
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here
DEEPSEEK_API_KEY=sk-your-deepseek-key-here

# ==============================================================================
# EMAIL SERVICE (Optional - for magic links)
# ==============================================================================
# SMTP configuration for nodemailer
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your@email.com
# SMTP_PASS=your-app-password
# SMTP_FROM="Mobius <noreply@mobius.systems>"

# ==============================================================================
# INTEGRATIONS
# ==============================================================================
# Reflections API (for JADE memory bridge)
REFLECTIONS_API_BASE=https://reflections-app.onrender.com

# Ledger Configuration
LEDGER_BASE_URL=http://localhost:4000
LEDGER_ADMIN_TOKEN=your-ledger-token-here

# ==============================================================================
# FOUNDER WALLET GENERATION
# ==============================================================================
# Set this when running generate-founder-wallet script
# FOUNDER_HANDLE=kaizen

# ==============================================================================
# Development Configuration
# ==============================================================================
OAA_BASE_URL=http://localhost:3000
NODE_ENV=development